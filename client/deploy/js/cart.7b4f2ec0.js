(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["cart"],{"551f":function(t,e,o){"use strict";var s=o("71a9"),c=o.n(s);c.a},"71a9":function(t,e,o){},b789:function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[t._m(0),o("hr"),o("h2",[t._v("Your Cart")]),o("div",{staticClass:"row"},[t.errMessage.length>1?o("div",{staticClass:"alert col-12 alert-warning alert-dismissible fade show",attrs:{role:"alert"}},[t._v(" "+t._s(t.errMessage)+" "),o("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:t.closeAlert}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])]):t._e(),o("div",{staticClass:"col-12 bg-light"},[o("table",{staticClass:"table table-hover"},[t._m(1),o("tbody",[t._l(t.cart,(function(t,e){return o("RowCart",{key:t.ProductId,attrs:{item:t,count:e}})})),o("tr",[o("td",{attrs:{colspan:"4"}}),o("td",[t._v(" Total : Rp. "+t._s(t.totalPayment.toLocaleString("id"))+" ")]),o("td",[o("button",{staticClass:"btn btn-warning pl-5 pr-5 pt-2 pb-2",on:{click:t.checkout}},[t._v(" Checkout ")])])])],2)])])])])},c=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"row text-left ml-2 mt-2"},[o("p",{},[t._v("Home > Cart")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("thead",[o("tr",[o("th",{attrs:{scope:"col"}},[t._v("#")]),o("th",{attrs:{scope:"col"}},[t._v("Image")]),o("th",{attrs:{scope:"col"}},[t._v("Product Name")]),o("th",{attrs:{scope:"col"}},[t._v("Price")]),o("th",{attrs:{scope:"col"}},[t._v("Quantity")]),o("th",{attrs:{scope:"col"}},[t._v("Action")])])])}],a=(o("4160"),o("159b"),o("aa22")),n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("tr",[o("th",{attrs:{scope:"row"}},[t._v(t._s(t.count+1))]),o("td",[o("img",{attrs:{src:t.item.Product.image_url,width:"200px",alt:""}})]),o("td",[t._v(t._s(t.item.Product.name))]),o("td",[t._v(" Rp. "+t._s(t.item.Product.price.toLocaleString("id"))+" ")]),o("td",[t.item.quantity>1?o("button",{staticClass:"btn btn-outline-warning",on:{click:t.decQty}},[t._v(" - ")]):t._e(),t._v(" "+t._s(t.item.quantity)+" "),o("button",{staticClass:"btn btn-outline-warning",on:{click:t.incQty}},[t._v(" + ")])]),o("td",[o("button",{staticClass:"btn btn-warning mr-2",on:{click:t.toWishlist}},[t._v(" Move to Wishlist ")]),o("button",{staticClass:"btn btn-outline-danger",on:{click:t.removeCart}},[t._v(" Remove ")])])])},r=[],i={name:"WL-ROW",props:["item","count"],methods:{removeCart:function(){var t=this,e=this.item.ProductId;console.log(e),a["a"].delete("cart/".concat(e),{headers:{access_token:localStorage.access_token}}).then((function(e){var o=e.data;console.log(o),t.$store.dispatch("fetch_cart")})).catch((function(e){console.log(e.response),e.response&&t.$store.commit("SET_ERRMSG",e.response.data.msg)}))},toWishlist:function(){var t=this;a["a"].post("wishlist",{productId:this.item.ProductId},{headers:{access_token:localStorage.access_token}}).then((function(e){var o=e.data;console.log(o),t.$store.dispatch("fetch_wishlists"),t.removeCart()})).catch((function(e){console.log(e.response),e.response&&t.$store.commit("SET_ERRMSG",e.response.data.msg)}))},incQty:function(){var t=this,e=this.item.ProductId;console.log(this.item.quantity,this.item.Product.stock),this.item.quantity>=this.item.Product.stock?(console.log("limited Stock"),this.$store.dispatch("fetch_cart"),this.$store.commit("SET_ERRMSG","Cannot add item, Limited Stock!")):(console.log(e),a["a"].post("cart",{productId:e},{headers:{access_token:localStorage.access_token}}).then((function(e){var o=e.data;console.log(o),t.$store.dispatch("fetch_cart")})).catch((function(e){console.log(e.response),e.response&&t.$store.commit("SET_ERRMSG",e.response.data.msg)})))},decQty:function(){var t=this,e=this.item.ProductId;console.log(e),a["a"].post("cart",{productId:e,qty:-1},{headers:{access_token:localStorage.access_token}}).then((function(e){var o=e.data;console.log(o),t.$store.dispatch("fetch_cart")})).catch((function(e){console.log(e.response),e.response&&t.$store.commit("SET_ERRMSG",e.response.data.msg)}))}}},l=i,u=o("2877"),d=Object(u["a"])(l,n,r,!1,null,null,null),h=d.exports,m={name:"Cart",components:{RowCart:h},data:function(){return{}},methods:{closeAlert:function(){this.$store.commit("CLEAR_ERRMSG")},checkout:function(){var t=this;a["a"].get("checkout",{headers:{access_token:localStorage.access_token}}).then((function(e){var o=e.data;console.log(o),t.$store.dispatch("fetch_all")})).catch((function(e){console.log(e.response),e.response&&t.$store.commit("SET_ERRMSG",e.response.data.msg)}))}},computed:{cart:function(){return this.$store.state.cart},totalPayment:function(){var t=0;return this.cart.forEach((function(e){t+=e.quantity*e.Product.price})),t},errMessage:function(){return this.$store.state.errMessage}},destroyed:function(){this.closeAlert()}},_=m,p=(o("551f"),Object(u["a"])(_,s,c,!1,null,"132831fe",null));e["default"]=p.exports}}]);
//# sourceMappingURL=cart.7b4f2ec0.js.map