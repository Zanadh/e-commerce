(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["products"],{"595c":function(t,e,s){},"5f35":function(t,e,s){},"8abf":function(t,e,s){"use strict";var r=s("595c"),a=s.n(r);a.a},"916c":function(t,e,s){"use strict";var r=s("5f35"),a=s.n(r);a.a},e6dc:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[t._m(0),s("hr"),t.errMessage.length>1?s("div",{staticClass:"alert col-12 alert-warning alert-dismissible fade show",attrs:{role:"alert"}},[t._v(" "+t._s(t.errMessage)+" "),s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:t.closeAlert}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])]):t._e(),s("h2",[t._v("All Products")]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-3 sidebar"},[s("hr"),s("h4",[t._v("Filter Product")]),s("hr"),s("ul",{staticClass:"list-group"},[s("li",{staticClass:"list-group-item ",class:{active:""==t.filter},on:{click:function(e){return t.changeFilter("all")}}},[t._v(" All Product ")]),t._l(t.categories,(function(e){return s("li",{key:e.id,staticClass:"list-group-item ",class:{active:t.filter==e.name},on:{click:function(s){return t.changeFilter(e.name)}}},[t._v(" "+t._s(e.name)+" ")])}))],2)]),s("div",{staticClass:"col-9 bg-light d-flex flex-wrap"},t._l(t.filteredProducts,(function(t,e){return s("CardProduct",{key:e,attrs:{product:t}})})),1)])])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row text-left ml-2 mt-2"},[s("p",{},[t._v("Home > Products")])])}],i=(s("4de4"),s("b0c0"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-4"},[s("div",{staticClass:"item-box-blog"},[s("div",{staticClass:"item-box-blog-image"},[s("div",{staticClass:"item-box-blog-date bg-blue-ui white"},[s("span",{staticClass:"mon"},[t._v("Stock: "+t._s(t.product.stock))])]),s("figure",[s("img",{staticStyle:{"max-height":"190px"},attrs:{alt:"",src:t.product.image_url,width:"190px"}})])]),s("div",{staticClass:"item-box-blog-body"},[s("div",{staticClass:"item-box-blog-heading"},[s("h5",[t._v(t._s(t.product.name))])]),s("div",{staticClass:"item-box-blog-text"},[s("p",[t._v(t._s(t.product.description))])]),s("div",{staticClass:"d-flex"},[s("a",{staticClass:"btn white wishlist",attrs:{href:"#",tabindex:"0"},on:{click:function(e){return e.preventDefault(),t.addWishlist(e)}}}),s("a",{staticClass:"btn bg-blue-ui white read",attrs:{href:"#",tabindex:"0"},on:{click:function(e){return e.preventDefault(),t.addCart(e)}}},[t._v("Add to cart")])])])])])}),o=[],c=s("aa22"),n={name:"Card-Product",props:["product"],methods:{addWishlist:function(){var t=this;localStorage.access_token?c["a"].post("wishlist",{productId:this.product.id},{headers:{access_token:localStorage.access_token}}).then((function(e){var s=e.data;console.log(s),t.$store.dispatch("fetch_wishlists")})).catch((function(e){console.log(e.response),e.response&&t.$store.commit("SET_ERRMSG",e.response.data.msg)})):this.$store.commit("TOOGLE_LOGINFORM")},addCart:function(){var t=this;localStorage.access_token?c["a"].post("cart",{productId:this.product.id},{headers:{access_token:localStorage.access_token}}).then((function(e){var s=e.data;console.log(s),t.$store.dispatch("fetch_cart")})).catch((function(e){console.log(e.response),e.response&&t.$store.commit("SET_ERRMSG",e.response.data.msg)})):this.$store.commit("TOOGLE_LOGINFORM")}}},l=n,u=(s("8abf"),s("2877")),d=Object(u["a"])(l,i,o,!1,null,null,null),h=d.exports,f={name:"Products",components:{CardProduct:h},data:function(){return{filter:""}},methods:{changeFilter:function(t){this.$router.push({path:"products",query:{category:t}})}},computed:{filteredProducts:function(){var t=this;if(""==this.filter||"all"==this.filter)return this.$store.state.products;var e=this.categories.filter((function(e){return e.name==t.filter})),s=this.$store.state.products.filter((function(t){return t.CategoryId==e[0].id}));return s},errMessage:function(){return this.$store.state.errMessage},categories:function(){return this.$store.state.categories}},created:function(){var t=this.$route.query.category||"";this.filter=t},watch:{"$route.query.category":function(t){console.log(this.$route.query.category,"<<");var e=this.$route.query.category||"";this.filter=e}}},p=f,g=(s("916c"),Object(u["a"])(p,r,a,!1,null,"5128b1b0",null));e["default"]=g.exports}}]);
//# sourceMappingURL=products.2398a52c.js.map